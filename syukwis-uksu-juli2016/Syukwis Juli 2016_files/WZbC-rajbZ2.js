if (self.CavalryLogger) { CavalryLogger.start_js(["sZqiv"]); }

__d("MComposerWaterfallEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_CANCEL:"composer_cancel",COMPOSER_CANCEL_INTENT:"intent_composer_cancel",COMPOSER_ENTRY:"composer_entry",COMPOSER_NOT_RENDERED:"composer_not_renderer",COMPOSER_POST:"composer_post",COMPOSER_POST_CANCEL:"composer_post_cancel",COMPOSER_POST_FAILURE:"composer_post_failure",COMPOSER_POST_FAILURE_FATAL:"composer_post_fatal_failure",COMPOSER_POST_FAILURE_GIVEUP:"composer_post_giveup_failure",COMPOSER_POST_SUCCESS:"composer_post_success",COMPOSER_POST_COMPLETED:"composer_post_completed",COMPOSER_WRITTEN:"composer_written",ALBUM_ADD:"add_album",ALBUM_CANCEL:"cancel_album",ALBUM_INTENT:"intent_album",ALBUM_REMOVE:"remove_album",FRIEND_TAG_ADD:"add_friend_tag",FRIEND_TAG_CANCEL:"cancel_friend_tag",FRIEND_TAG_INTENT:"intent_friend_tag",FRIEND_TAG_REMOVE:"remove_friend_tag",FRIEND_TAG_SEARCH:"search_friend_tag",FRIEND_SHOW_MORE:"show_more_friend_tag",LOCATION_ADD:"add_location",LOCATION_CANCEL:"cancel_location",LOCATION_INTENT:"intent_location",LOCATION_REMOVE:"remove_location",LOCATION_SCROLL:"scroll_location",LOCATION_SEARCH:"search_location",MINUTIAE_ADD:"add_minutiae",MINUTIAE_CANCEL:"cancel_minutiae",MINUTIAE_CHANGE_ICON:"change_icon_minutiae",MINUTIAE_CHANGE_ICON_CANCEL:"change_icon_cancel_minutiae",MINUTIAE_CHANGE_ICON_INTENT:"change_icon_intent_minutiae",MINUTIAE_CHANGE_ICON_SEARCH:"change_icon_search_minutiae",MINUTIAE_INTENT:"intent_minutiae",MINUTIAE_REMOVE:"remove_minutiae",MINUTIAE_SCROLL:"scroll_minutiae",MINUTIAE_SEARCH:"search_minutiae",MINUTIAE_TYPE_CLICK:"type_click_minutiae",MINUTIAE_SEE_MORE:"see_more_minutiae",MINUTIAE_CHAIN_SKIP:"skip_chain_minutiae",MINUTIAE_CHAIN_SUGGEST:"suggest_chain_minutiae",MINUTIAE_ICONPICKER_QUERY:"minutiae_iconpicker_query",MINUTIAE_ICONPICKER_BOOTSTRAP:"minutiae_iconpicker_bootstrap",MINUTIAE_ICONPICKER_SELECT:"minutiae_iconpicker_select",MARKDOWN_INTENT:"markdown_intent",MEDIA_INTENT:"intent_media",MEDIA_CANCEL:"cancel_media",PHOTO_ADD:"add_photo",PHOTO_ADD_FAILURE:"add_photo_failure",PHOTO_ADD_SUCCESS:"add_photo_success",PHOTO_REMOVE:"remove_photo",PRIVACY_ADD:"add_privacy",PRIVACY_CANCEL:"cancel_privacy",PRIVACY_INTENT:"intent_privacy",PRIVACY_SCROLL:"scroll_privacy",PRIVACY_SEE_ALL_LISTS:"see_all_lists_privacy",SELECT_FRIEND_TIMELINE_INTENT:"intent_select_friend_timeline",SELECT_FRIEND_TIMELINE_ADD:"add_select_friend_timeline",SELECT_FRIEND_TIMELINE_CANCEL:"cancel_select_friend_timeline",SERVER_POST_BEGIN:"server_composer_post_begin",SERVER_POST_FAILURE:"server_composer_post_failure",SERVER_POST_SUCCESS:"server_composer_post_succeeded",POST_POST_WITH_TAG_BEGIN:"post_post_with_tag_begin",POST_POST_WITH_TAG_FAILURE:"post_post_with_tag_failure",POST_POST_WITH_TAG_SUCCESS:"post_post_with_tag_success",SLIDESHOW_INTENT:"intent_slideshow",SLIDESHOW_CANCEL:"cancel_slideshow",SLIDESHOW_POST:"post_slideshow",SLIDESHOW_PREVIEW_INTENT:"intent_slideshow_preview",SLIDESHOW_PREVIEW_CANCEL:"cancel_slideshow_preview",TARGET_SELECTOR_INTENT:"intent_target_selector",TARGET_SELECTOR_CANCEL:"cancel_target_selector",VIDEO_ADD:"add_video",VIDEO_ADD_FAILURE:"add_video_failure",VIDEO_ADD_SUCCESS:"add_video_success",VIDEO_REMOVE:"remove_video"};},null);
__d("MCompositionPrivacyFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PRIVACY_FBID:"PRIVACY_FBID",CLOSE_DIALOG:"CLOSE_DIALOG",ALREADY_SAVED_STICKY:"ALREADY_SAVED_STICKY",NEVER_SAVE_STICKY:"NEVER_SAVE_STICKY",CUSTOM_LABEL:"CUSTOM_LABEL",CUSTOM_OPTION:"CUSTOM_OPTION"};},null);
__d("PrivacyConst",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:1493271774218406,EVENT_OPEN_INVITE:854618297899786,EVENT_GUESTS_AND_FRIENDS:1439959856260766,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,CAN_MESSAGE:8787545733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2},ExpansionType:{NONE:0,TAGS_ONLY:1}};},null);
__d('MCompositionConstants',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ActionTypes:h({CLOSE_DIALOG:null,COMPOSITION_FINALIZE:null,COMPOSITION_INITIALIZE:null,DISABLE_PHOTOS:null,FORMAT_CHANGE:null,MINUTIAE_REMOVE:null,MINUTIAE_SET:null,PHOTO_CHANGE:null,PLACE_REMOVE:null,PLACE_SET:null,PRIVACY_CHANGE:null,GROUP_SELL_UPDATE:null,SHARE_LINK_UPDATE:null,STATUS_CHANGE:null,SHARE_REMOVE_PREVIEW:null,WITH_CHANGE:null}),PayloadSources:h({USER_ACTION:null})};},null);
__d('MCompositionDispatcher',['Dispatcher_DEPRECATED','createObjectFrom','getObjectValues','invariant','MCompositionConstants'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('MCompositionConstants').ActionTypes,m=c('MCompositionConstants').PayloadSources,n=i(j(l));function o(q){return function(r){!!!r.data?k(0):void 0;!!!r.actionType?k(0):void 0;!n.hasOwnProperty(r.actionType)?k(0):void 0;this.dispatch({action:r,paylodSource:q});};}var p=Object.assign(new h(),{handleUpdateFromUserAction:o(m.USER_ACTION)});f.exports=p;},null);
__d('MCompositionUserActions',['MComposition','MCompositionConfigFields','MCompositionDispatcher','MCompositionShareFields','MCompositionStoreID','MCompositionConstants'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=c('MCompositionConstants').ActionTypes;function n(p,q){j.handleUpdateFromUserAction({actionType:p,data:q});}var o={configDisablePhotosUpdate:function(p){var q={};q[l.CONFIG]={};q[l.CONFIG][i.DISABLE_PHOTOS]=p;n(m.DISABLE_PHOTOS,q);},finalize:function(){n(m.COMPOSITION_FINALIZE,{});},initialize:function(p){n(m.COMPOSITION_INITIALIZE,p||{});},shareLinkUpdate:function(p){var q={};q[l.SHARE]={};q[l.SHARE][k.SHARE_URI]=p;n(m.SHARE_LINK_UPDATE,q);},shareRemoveLinkPreview:function(p){var q={};q[p]=true;var r={};r[l.SHARE]={};r[l.SHARE][k.DISABLED_LINKS]=q;n(m.SHARE_REMOVE_PREVIEW,r);},minutiaeRemove:function(){n(m.MINUTIAE_REMOVE,{});},minutiaeSet:function(p){var q={};q[l.MINUTIAE]=p;n(m.MINUTIAE_SET,q);},photoUpdate:function(p){var q={};q[l.PHOTO]=p;n(m.PHOTO_CHANGE,q);},placeRemove:function(){n(m.PLACE_REMOVE,{});},placeSet:function(p){n(m.PLACE_SET,new h().setStoreData(l.PLACE,p).serialize());},statusUpdate:function(p){n(m.STATUS_CHANGE,new h().setStoreData(l.STATUS,p).serialize());},withUpdate:function(p){var q={};q[l.WITH_TAGS]=p;n(m.WITH_CHANGE,q);},groupSellUpdate:function(p){n(m.GROUP_SELL_UPDATE,new h().setStoreData(l.GROUP_SELL,p).serialize());},privacyUpdate:function(p){var q={};q[l.PRIVACY]=p;n(m.PRIVACY_CHANGE,q);},formatUpdate:function(p){var q;n(m.FORMAT_CHANGE,(q={},q[l.FORMAT]=p,q));}};f.exports=o;},null);
__d('ImmutableValue',['invariant','isNode','keyOf'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=j({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});function l(m){!(m===l[k])?h(0):void 0;}l.mergeAllPropertiesInto=function(m,n){var o=n.length;for(var p=0;p<o;p++)Object.assign(m,n[p]);};l.deepFreezeRootNode=function(m){if(i(m))return;Object.freeze(m);for(var n in m)if(m.hasOwnProperty(n))l.recurseDeepFreeze(m[n]);Object.seal(m);};l.recurseDeepFreeze=function(m){if(i(m)||!l.shouldRecurseFreeze(m))return;Object.freeze(m);for(var n in m)if(m.hasOwnProperty(n))l.recurseDeepFreeze(m[n]);Object.seal(m);};l.shouldRecurseFreeze=function(m){return (typeof m==='object'&&!(m instanceof l)&&m!==null);};l._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();f.exports=l;},null);
__d('ImmutableObject',['ImmutableValue','invariant','keyOf','mergeHelpers'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=k.checkMergeObjectArgs,o=k.isTerminal,p=j({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});function q(t){!(t instanceof h)?i(0):void 0;}l=babelHelpers.inherits(r,h);m=l&&l.prototype;function r(){m.constructor.call(this,h[p]);h.mergeAllPropertiesInto(this,arguments);}r.create=function(){var t=Object.create(r.prototype);r.apply(t,arguments);return t;};r.set=function(t,u){q(t);!(typeof u==='object'&&u!==undefined&&!Array.isArray(u))?i(0):void 0;return new r(t,u);};r.setProperty=function(t,u,v){var w={};w[u]=v;return r.set(t,w);};r.deleteProperty=function(t,u){var v={};for(var w in t)if(w!==u&&t.hasOwnProperty(w))v[w]=t[w];return new r(v);};r.setDeep=function(t,u){q(t);return s(t,u);};r.values=function(t){return Object.keys(t).map(function(u){return t[u];});};function s(t,u){n(t,u);var v={},w=Object.keys(t);for(var x=0;x<w.length;x++){var y=w[x];if(!u.hasOwnProperty(y)){v[y]=t[y];}else if(o(t[y])||o(u[y])){v[y]=u[y];}else v[y]=s(t[y],u[y]);}var z=Object.keys(u);for(x=0;x<z.length;x++){var aa=z[x];if(t.hasOwnProperty(aa))continue;v[aa]=u[aa];}return (t instanceof h?new r(v):u instanceof h?new r(v):v);}f.exports=r;},null);
__d('MCompositionStore',['ImmutableObject','MCompositionDispatcher','createObjectFrom','getObjectValues','invariant','mixInEventEmitter','MCompositionConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=c('MCompositionConstants').ActionTypes,o={};function p(q,r){'use strict';!!o.hasOwnProperty(q)?l(0):void 0;this.$MCompositionStore1=null;this.$MCompositionStore2=null;this.$MCompositionStore3=r;this.$MCompositionStore4={};this.$MCompositionStore5=null;this.$MCompositionStore6=null;this.$MCompositionStore7=q;this.$MCompositionStore8=false;this.$MCompositionStore9=j(k(r));}p.prototype.setMutable=function(q){'use strict';this.$MCompositionStore10();this.$MCompositionStore8=q;return this;};p.prototype.addChangeListener=function(q){'use strict';return this.addListener('change',q);};p.prototype.$MCompositionStore11=function(q){'use strict';!this.hasField(q)?l(0):void 0;};p.prototype.$MCompositionStore12=function(){'use strict';!(this.$MCompositionStore2&&o.hasOwnProperty(this.$MCompositionStore7))?l(0):void 0;};p.prototype.$MCompositionStore13=function(q){'use strict';if(!q||!this.$MCompositionStore6)return;Object.keys(this.$MCompositionStore6).forEach(function(r){!q.hasOwnProperty(r)?l(0):void 0;});};p.prototype.$MCompositionStore10=function(){'use strict';!(!this.$MCompositionStore2&&!o.hasOwnProperty(this.$MCompositionStore7))?l(0):void 0;};p.prototype.get=function(q,r){'use strict';this.$MCompositionStore12();this.$MCompositionStore11(q);if(this.$MCompositionStore1&&this.$MCompositionStore1.hasOwnProperty(q)){return this.$MCompositionStore1[q];}else if(r!==undefined){return r;}else return null;};p.prototype.getAll=function(){'use strict';this.$MCompositionStore12();return this.$MCompositionStore1||new h();};p.prototype.getID=function(){'use strict';return this.$MCompositionStore7;};p.getRegisteredStores=function(){'use strict';return k(o);};p.prototype.$MCompositionStore14=function(q){var r=q.action,s=r.actionType,t=r.data;'use strict';if(!this.$MCompositionStore15(s))return;this.$MCompositionStore16(this.$MCompositionStore4[s].call(null,t[this.$MCompositionStore7]||null));this.emit('change');};p.prototype.hasField=function(q){'use strict';return this.$MCompositionStore9.hasOwnProperty(q);};p.prototype.$MCompositionStore15=function(q){'use strict';return this.$MCompositionStore4.hasOwnProperty(q);};p.prototype.isEmpty=function(){'use strict';this.$MCompositionStore12();return !this.$MCompositionStore1;};p.prototype.register=function(){'use strict';!!this.$MCompositionStore2?l(0):void 0;this.$MCompositionStore2=i.register(this.$MCompositionStore14.bind(this));o[this.$MCompositionStore7]=this;return this;};p.prototype.$MCompositionStore16=function(q){'use strict';if(q){this.$MCompositionStore13(q);Object.keys(q).forEach(function(r){return this.$MCompositionStore11(r);}.bind(this));if(this.$MCompositionStore8){this.$MCompositionStore1=q;}else this.$MCompositionStore1=new h(q);}else this.$MCompositionStore1=null;return this;};p.prototype.setHandlerFor=function(q,r){'use strict';this.$MCompositionStore10();!n.hasOwnProperty(q)?l(0):void 0;!!this.$MCompositionStore15(q)?l(0):void 0;this.$MCompositionStore4[q]=r;return this;};p.prototype.setRequiredFields=function(){'use strict';this.$MCompositionStore10();for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];r.forEach(function(t){return this.$MCompositionStore11(t);}.bind(this));this.$MCompositionStore6=j(r);return this;};p.prototype.toUpdate=function(){'use strict';this.$MCompositionStore12();return this.$MCompositionStore2;};m(p,{change:true});f.exports=p;},null);
__d('MCompositionConfigStore',['MCompositionStore','MCompositionConfigFields','MCompositionStoreID','emptyFunction','invariant','MCompositionConstants'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=c('MCompositionConstants').ActionTypes;function n(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(p){var q=Math.random()*16|0,r=p=='x'?q:q&3|8;return r.toString(16);});}var o=new h(j.CONFIG,i).setRequiredFields(i.ACTION,i.BUTTON_TEXT_SUBMIT,i.COMPOSER_TITLE,i.OPENED_AT,i.SESSION_ID).setHandlerFor(m.COMPOSITION_FINALIZE,k.thatReturnsNull).setHandlerFor(m.COMPOSITION_INITIALIZE,function(p){p=p||{};p[i.SESSION_ID]=n();p[i.OPENED_AT]=Date.now();return p;}).setHandlerFor(m.DISABLE_PHOTOS,function(p){var q=p&&p[i.DISABLE_PHOTOS];!(q!==undefined&&q!==null)?l(0):void 0;var r={};r[i.DISABLE_PHOTOS]=q;return babelHelpers['extends']({},o.getAll(),r);}).register();f.exports=o;},null);
__d('MCompositionPrivacyStore',['MCompositionStore','MCompositionPrivacyFields','MCompositionStoreID','emptyFunction','MCompositionConstants'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=c('MCompositionConstants').ActionTypes,m=new h(j.PRIVACY,i).setRequiredFields(i.PRIVACY_FBID).setHandlerFor(l.COMPOSITION_FINALIZE,k.thatReturnsNull).setHandlerFor(l.COMPOSITION_INITIALIZE,k.thatReturnsArgument).setHandlerFor(l.PRIVACY_CHANGE,k.thatReturnsArgument).register();f.exports=m;},null);
__d('MComposerLoggerSpecialCases',['MarauderLogger','MComposerWaterfallEvent'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(event,l){j[event]=l;}k(i.COMPOSER_CANCEL,function(l){h.toggleModule('composer',false);return l;});k(i.COMPOSER_ENTRY,function(l){h.toggleModule('composer',true);return l;});k(i.COMPOSER_POST,function(l){switch(h.getNavigationModule()){case 'newsfeed':l.nectar_module='newsfeed_composer';break;case 'timeline':l.nectar_module='timeline_composer';break;default:l.nectar_module='unspecified_source';}h.toggleModule('composer',false);return l;});f.exports=j;},null);
__d('MComposerLogger',['Promise','ErrorUtils','MComposerConfig','MComposerWaterfallEvent','MCompositionConfigFields','MCompositionConfigStore','createObjectFrom','getObjectValues','invariant','memoize'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=n(o(k)),s=q(function(){return new h(function(v){if(j.ENABLE_LOGGING){e(['MarauderLogger','MComposerLoggerSpecialCases'],function(){for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v(x);});}else v();});});function t(event,v,w,x,y){var z=y[0],aa=y[1];if(aa.hasOwnProperty(event))v=aa[event].call(null,v);z.log(event,'composer',v,null,null,w,x);}var u={log:i.guard(function(event,v){!r.hasOwnProperty(event)?p(0):void 0;if(m.isEmpty())return;var w=m.get(l.SESSION_ID,null);!(w!==null)?p(0):void 0;return u.logWithSessionID(event,w,v);},'MComposerLogger',u),logWithSessionID:i.guard(function(event,v,w){if(j.ENABLE_LOGGING){return s().then(t.bind(null,event,w||{},v,Date.now()));}else return s();})};f.exports=u;},null);
__d('MComposerNavigationPolicy',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){k.forEach(function(l){return l.call();});}function j(k){'use strict';this.$MComposerNavigationPolicy1=false;this.$MComposerNavigationPolicy2=false;this.$MComposerNavigationPolicy3=false;this.$MComposerNavigationPolicy4=[];this.$MComposerNavigationPolicy5=[];this.$MComposerNavigationPolicy6=[];this.$MComposerNavigationPolicy7=[];this.$MComposerNavigationPolicy8=[];this.$MComposerNavigationPolicy9=k||null;}j.prototype.addOnClose=function(k){'use strict';this.$MComposerNavigationPolicy5.push(k);return this;};j.prototype.addOnCloseByBrowser=function(k){'use strict';this.$MComposerNavigationPolicy4.push(k);return this;};j.prototype.addOnOpen=function(k){'use strict';this.$MComposerNavigationPolicy7.push(k);return this;};j.prototype.addOnOpenChild=function(k){'use strict';this.$MComposerNavigationPolicy8.push(k);return this;};j.prototype.addOnReturnFromChild=function(k){'use strict';this.$MComposerNavigationPolicy6.push(k);return this;};j.prototype.close=function(){'use strict';!this.$MComposerNavigationPolicy2?h(0):void 0;!!this.$MComposerNavigationPolicy1?h(0):void 0;this.$MComposerNavigationPolicy1=true;i(this.$MComposerNavigationPolicy5);if(this.$MComposerNavigationPolicy9)this.$MComposerNavigationPolicy9.returnFromChild();return this;};j.prototype.closeByBrowser=function(){'use strict';i(this.$MComposerNavigationPolicy4);this.close();return this;};j.prototype.destroy=function(){'use strict';if(this.$MComposerNavigationPolicy9){this.$MComposerNavigationPolicy9.destroy();this.$MComposerNavigationPolicy9=null;}};j.prototype.setIsOnSubmit=function(){'use strict';this.$MComposerNavigationPolicy3=true;};j.prototype.isOnSubmit=function(){'use strict';return this.$MComposerNavigationPolicy3;};j.prototype.getParent=function(){'use strict';return this.$MComposerNavigationPolicy9;};j.prototype.hasClosed=function(){'use strict';return this.$MComposerNavigationPolicy1;};j.prototype.hasOpened=function(){'use strict';return this.$MComposerNavigationPolicy2;};j.prototype.open=function(){'use strict';!!this.$MComposerNavigationPolicy2?h(0):void 0;this.$MComposerNavigationPolicy2=true;if(this.$MComposerNavigationPolicy9)this.$MComposerNavigationPolicy9.openChild();i(this.$MComposerNavigationPolicy7);return this;};j.prototype.openChild=function(){'use strict';i(this.$MComposerNavigationPolicy8);return this;};j.prototype.returnFromChild=function(){'use strict';i(this.$MComposerNavigationPolicy6);return this;};f.exports=j;},null);
__d('MComposerNavigation',['MComposerNavigationConstants','MComposerNavigationPolicy','MHistory','MURI','Stratcom','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n='mds',o='composer',p='review-saved';function q(){!(!r||r.hasOpened())?m(0):void 0;}var r=null,s={currentPolicy:function(){q();return r;},newPolicy:function(){q();if(!r&&h.USE_PUSH_STATE)j.pushSoftState(o);var u=new i(r);r=u;u.addOnClose(function(){r=u.getParent();if(!r&&!u.isOnSubmit()&&h.USE_PUSH_STATE)j.popSoftState(o);});return u;},cleanupSoftState:function(){if(h.USE_PUSH_STATE)j.popSoftState(o);}},t=false;if(h.USE_PUSH_STATE)l.listen('m:history:change',null,function(event){var u=event.getData().soft;if(!r||u===o||u===p)return;var v=new k(event.getData().path).getQueryData().hasOwnProperty(n);if(!t&&v){t=true;r.openChild();return;}if(t&&!v){t=false;j.pushSoftState(o);r.returnFromChild();return;}if(t&&v)return;if(r.getParent())j.pushSoftState(o);r.closeByBrowser();});l.listen('m:page:unload',null,function(){if(r&&r.destroy)r.destroy();r=null;});f.exports=s;},null);
__d('MPlacesCategorySelector',['MLegacyDataStore','DOM','MRequest','Stratcom','createDeprecatedProperties','eventsMixinDeprecated'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();function n(o){'use strict';this._root=o;this._listeners=[k.listen('click',[o.getAttribute('data-sigil'),'cancel_places_category_selector'],this._cancel.bind(this)),k.listen('click',[o.getAttribute('data-sigil'),'category_option'],this._submit.bind(this))];this._currentlyMakingServerRequest=false;this._viewcount=1;}n.prototype.hide=function(){'use strict';i.hide(this._root);};n.prototype.show=function(){'use strict';i.show(this._root);};n.prototype.cleanup=function(){'use strict';while(this._listeners.length)this._listeners.pop().remove();};n.prototype._hideCurrentChild=function(){'use strict';for(var o=0;o<this._viewcount-1;o++){if(!this._root.childNodes[o])return;i.hide(this._root.childNodes[o]);}};n.prototype._showCurrentChild=function(){'use strict';if(this._viewcount>=1){var o=this._getCurrentVisibleView();i.show(o);}};n.prototype._deleteLastChild=function(){'use strict';var o=this._root.childElementCount;if(o>=1)i.remove(this._root.childNodes[o-1]);};n.prototype._deleteAllChildren=function(){'use strict';var o=this._root.childElementCount;for(var p=o-1;p>=1;p--)i.remove(this._root.childNodes[p]);if(o>=1)i.show(this._root.childNodes[0]);this._viewcount=1;};n.prototype._getCurrentVisibleView=function(){'use strict';return this._root.childNodes[this._viewcount-1];};n.prototype._submit=function(event){'use strict';if(this._currentlyMakingServerRequest)return;var o=this._getCurrentVisibleView(),p=i.find(o,'*','loading'),q=i.find(o,'div','category-list-view'),r=h.get(event.getNode('category_option'));if(r.haschildren){this._currentlyMakingServerRequest=true;this._hideCurrentChild();i.show(p);i.hide(q);var s=new j('/places/addform/category.php');s.listen('done',function(){this._viewcount=this._viewcount+1;this._hideCurrentChild();this._currentlyMakingServerRequest=false;i.hide(p);i.show(q);}.bind(this));s.addData({parent_category_id:r.id,target_id:this._root.id});s.setMethod('GET');s.send();}else{this._deleteAllChildren();this._currentid=null;var t={category_name:r.name,category_value:r.id};this.hide();this.invoke('submit',t);}event.kill();};n.prototype._cancel=function(event){'use strict';if(this._currentlyMakingServerRequest)return;if(this._viewcount>1){this._deleteLastChild();this._viewcount--;this._showCurrentChild();}else{this.hide();this.invoke('cancel');}};m(n,['submit','cancel']);l(n,{disableFacewebHooks:false});Object.assign(n.prototype,{_root:null,_currentlyMakingServerRequest:null,_viewcount:null});f.exports=n;},null);
__d('MPlacesAddView',['DOM','FBJSON','MPlacesCategorySelector','MRequest','Stratcom','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=null,o=null,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=null,x=null,y=null,z=null,aa=null,ba=null,ca=null,da=null,ea=null,fa=null,ga=null,ha=null,ia=null,ja=true,ka={init:function(la){n=m(la);if(!n)return;t=h.scry(n,'div','places-category-selector-container')[0];if(t){q=new j(t);p=h.find(n,'div','add-place-form');u=h.find(n,'div','new-place-name');v=h.find(u,'input','');w=h.find(n,'div','new-place-address');x=h.find(w,'input','');y=h.find(n,'div','new-place-phone');z=h.find(y,'input','');aa=h.find(n,'div','new-place-website');ba=h.find(aa,'input','');ca=h.find(n,'div','new-place-zip');da=h.find(ca,'input','');ga=h.scry(n,'input','is_current')[0];r=h.find(n,'span','category_input_display_text');s=h.scry(n,'input','category_input_value')[0];ea=h.scry(n.parentNode.parentNode,'div','place-header')[0];fa=h.find(n,'div','address-error-box');}else v=h.find(n,'input','new-place-name');o=h.find(n,'button','add_place_submit');this._listeners=[l.listen('click','add_place_submit',ka._verifyAndSubmitAddPlace.bind(this)),l.listen('MStructuredComposer:cleanup',null,ka._cleanup.bind(this)),l.listen('m:places:map:move',null,function(event){ha=event.getData().lat;ia=event.getData().lng;}),l.listen('m:places:map:render',null,function(event){var ma=i.parse(event.getData(),f.id);ha=ma.latitude;ia=ma.longitude;})];v.addEventListener('focus',function(){if(ja){v.blur();ja=false;}});if(t){this._listeners.push(l.listen('click','category-selector',ka._showCategorySelector.bind(this)));this._listeners.push(q.listen('cancel',ka._cancelCategorySelector.bind(this)));this._listeners.push(q.listen('submit',ka._submitCategorySelector.bind(this)));}},_cleanup:function(){while(this._listeners.length)this._listeners.pop().remove();if(q)q.cleanup();},_showCategorySelector:function(event){if(ea)h.hide(ea);h.hide(p);h.show(t);event.kill();},_showAddButton:function(){if(!s.value)return false;return true;},_updateCategorySelector:function(la){if(r&&la){var ma=la.category_name,na=la.category_value;h.setContent(r,ma);if(na.length!==0){s.value=na;if(o.disabled&&ka._showAddButton())o.disabled=false;}}},_submitCategorySelector:function(event){ka._updateCategorySelector(event);h.hide(t);h.show(p);l.invoke('m:places:addplace:show');ja=true;if(ea)h.show(ea);},_cancelCategorySelector:function(){h.hide(t);h.show(p);l.invoke('m:places:addplace:show');ja=true;if(ea)h.show(ea);},_verifyAndSubmitAddPlace:function(event){var la={new_place:true,name:v.value};if(t){la.phone=z.value;la.address=x.value;la.website=ba.value;la.zip=da.value;}la.is_current=true;if(ga)la.is_current=ga.checked;if(ha){la.latitude=ha;la.longitude=ia;}if(s){la.topic_tokens=s;}else{var ma=h.scry(n,'span','token');la.topic_tokens=ma;}if(la.address){var na=new k('/places/addform/verifyaddress.php');na.listen('done',function(oa){if(oa.actions.length===1){this._submitData(la,event);}else event.kill();}.bind(this));na.setData({address:la.address,latitude:la.latitude,longitude:la.longitude,target_id:fa.id}).setMethod('GET').send();}else this._submitData(la,event);},_submitData:function(la,event){if(la.name.length!==0){h.hide(n);l.invoke('m:places:addform:submit',null,la);}else event.kill();}};f.exports=ka;},null);
__d('MPlacesTagger',['MLegacyDataStore','DOM','MParent','MPlaces','MRequest','Stratcom','MTaggingCounter','MTaggingCounterEvent','$','eventsMixinDeprecated','fbt','FWLoader'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=c('FWLoader').FW;function t(u,v){'use strict';this._root=u;this._addPlaceView=i.find(u,'div','add-place');this._disableFacewebHooks=false;this._errorMessage=i.find(u,'div','error-message');this._isOpen=false;this._searchView=i.find(u,'div','places-search');this._throbber=i.find(u,'div','throbber');this._locationToggle=i.scry(u,'div','location-toggle')[0];this._newPlaceName=i.scry(u,'div','new-place-name')[0];this._overrideLocation=v;if(this._newPlaceName){this._newPlaceNameTextbox=i.find(this._newPlaceName,'input','');}else this._newPlaceNameTextbox=i.find(this._addPlaceView,'input','new-place-name');if(!window.FW_ENABLED)this._placeHeader=i.find(u,'div','place-header');this._listeners=[m.listen('click','cancel_at_tagger',this._cancel.bind(this)),m.listen('click','place_result',this._submit.bind(this)),m.listen('click','add_place_link',this._showAddPlace.bind(this)),m.listen('click','freeform_link',this._submitFreeformPlace.bind(this)),m.listen('click','get-location',this._getLocation.bind(this)),m.listen('click','abort-location',this._abortLocation.bind(this)),m.listen('m:places:addform:submit',null,this._submitAddPlace.bind(this)),m.listen('m:page:unload',null,this.cleanup.bind(this))];}t.prototype.cleanup=function(){'use strict';for(var u=0;u<this._listeners.length;u++)this._listeners[u].remove();this._listeners=[];};t.prototype.getDisableFacewebHooks=function(){'use strict';return this._disableFacewebHooks;};t.prototype.getRoot=function(){'use strict';return this._root;};t.prototype.hide=function(){'use strict';if(window.FW_ENABLED)s.setNavBarButton('','1;');i.hide(this._addPlaceView);i.show(this._searchView);i.hide(this._root);this._isOpen=false;};t.prototype.setDisableFacewebHooks=function(u){'use strict';this._disableFacewebHooks=u;};t.prototype.show=function(){'use strict';this._isOpen=true;if(this._locationToggle)i.hide(this._throbber);if(window.FW_ENABLED){s.setNavBarButton(r._("Cancel"),this._cancel.bind(this));}else if(this._locationToggle&&!this._hasLocation)i.show(this._locationToggle);if(this._locationToggle){this._showed();}else if(this._overrideLocation){setTimeout(function(){m.invoke('m:quicksearch:places:search-with-location',null,this._overrideLocation);this._showed();}.bind(this),0);}else if(!this._hasLocation&&'geolocation' in navigator){n.logEvent(o.GEO_POPUP_LOAD);this._locationListener=m.listen('location-update',null,this._handleLocationUpdate.bind(this));this._errorListener=m.listen('location-error',null,this._handleLocationError.bind(this));k.monitorLocation();}else this._showed();i.show(this._root);};t.prototype._getLocation=function(){'use strict';if(!this._hasLocation&&'geolocation' in navigator){this._locationListener=m.listen('location-update',null,this._handleLocationUpdate.bind(this));this._errorListener=m.listen('location-error',null,this._handleLocationError.bind(this));i.show(this._throbber);i.hide(this._locationToggle);k.monitorLocation();}};t.prototype._abortLocation=function(){'use strict';i.hide(this._throbber);i.hide(this._locationToggle);i.hide(this._errorMessage);};t.prototype._removeListeners=function(){'use strict';this._locationListener.remove();this._errorListener.remove();};t.prototype._handleLocationUpdate=function(event){'use strict';this._removeListeners();this._hasLocation=true;m.invoke('m:quicksearch:places:search');if(!this._locationToggle)n.logEvent(o.GEO_POPUP_SUCCESS);this._showed();};t.prototype._handleLocationError=function(event){'use strict';this._removeListeners();this._hasLocation=false;i.show(this._errorMessage);i.hide(this._throbber);if(this._locationToggle){i.show(this._locationToggle);}else n.logEvent(o.GEO_POPUP_FAIL);this._showed();};t.prototype._showed=function(){'use strict';if(!this._isOpen)return;if(window.FW_ENABLED&&!this.getDisableFacewebHooks()){s.setNavBarTitle(r._("Add a Place"));s.setNavBarButton(r._("Cancel"),this._cancel.bind(this),s.BUTTON_CANCEL,false,'left');}this.invoke('showed');i.show(this._root);};t.prototype._cancel=function(){'use strict';if(!this.invoke('cancel').getPrevented()){m.invoke('m:quicksearch:places:cancel');this.hide();}};t.prototype._submit=function(event){'use strict';if(j.bySigil(event.getTarget(),'place-tagger')!==this._root)return;var u=h.get(event.getNode('place_result'));u.new_place=false;this._placeResult=u;m.invoke('m:quicksearch:places:click',null,{results:event.getNode('id:places_search_results'),selected_result:event.getNode('place_result')});this.invoke('submit',u);event.kill();};t.prototype._showAddPlace=function(event){'use strict';var u=h.get(event.getNode('add_place_link')).name;this._newPlaceNameTextbox.value=u;i.hide(this._searchView);i.show(this._addPlaceView);var v=i.scry(this._addPlaceView,'*','map_view_container')[0];if(v)new l('/places/showmap.php').addData({target_id:v.id}).setMethod('GET').send();m.invoke('m:places:addplace:show');event.kill();};t.prototype._submitAddPlace=function(event){'use strict';var u=event.getData();this.hide();this.invoke('submit',u);event.kill();};t.prototype._submitFreeformPlace=function(event){'use strict';var u=h.get(event.getNode('freeform_link'));this.hide();this.invoke('submit',u);event.kill();};t.fromID=function(u){'use strict';var v=p(u),w=h.get(v);if(!w._placesTagger)w._placesTagger=new t(v);return w._placesTagger;};q(t,['searching','showed','submit','cancel']);Object.assign(t.prototype,{_hasLocation:false,_locationListener:null,_errorListener:null,_root:null,_addPlaceView:null,_errorMessage:null,_newPlaceName:null,_newPlaceNameTextbox:null,_searchView:null,_throbber:null,_listeners:null,_placeResult:null});f.exports=t;},null);
__d('goURI',['ReloadPage','URISchemes'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l,m){k=k.toString();if(/^([^.:/?#]+):/.test(k)&&!i.isAllowed(RegExp.$1))throw new Error('goURI: URI scheme rejected, URI: '+k);if(!l&&b.PageTransitions){b.PageTransitions.go(k,m);}else if(window.location.href==k){h.now();}else if(m){window.location.replace(k);}else window.location.href=k;}f.exports=j;},null);
__d('MPagesStarsRatableBase',['CSS','MLegacyDataStore','DOM','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m,n,o){'use strict';this.root=m;this.stars=j.scry(m,'span','stars-ratable-star');this.hiddenInput=j.find(m,'input','stars-ratable-input');this.ratingTextContainer=o;this.listeners=[j.listen(this.root,'click','star-link',this._onClick.bind(this)),k.listen('MPagesStarsRatableBase-setStars',null,function(event){this.setRating(event.getData().rating);}.bind(this))];this.setRating(n);var p=this.listeners;k.listen('m:page:unload',null,function(){k.removeCurrentListener();p.forEach(function(q){q.remove();});});}l.prototype._onClick=function(event){'use strict';var m=this._getStarIndexFromEvent(event);if(m){this.setRating(m);k.invoke('MPagesStarsRatableBase-starTapped',null,{rating:m});}event.prevent();};l.prototype._getStarIndexFromEvent=function(event){'use strict';var m=event.getTarget();if(m.nodeName==="A")m=j.find(m,'span','stars-ratable-star');return this.stars.indexOf(m)+1;};l.prototype.setRating=function(m){'use strict';for(var n=0;n<this.stars.length;++n){var o=n>=m;h.conditionClass(this.stars[n],'fullStar',!o);h.conditionClass(this.stars[n],'emptyStar',o);}this.hiddenInput.value=m;if(m)if(this.ratingTextContainer)this.ratingTextContainer.textContent=i.get(this.stars[m-1]).tooltip;k.invoke('MPagesStarsRatableBase-starsSet',null,{rating:m});};l.init=function(m,n,o){'use strict';new l(m,n,o);};f.exports=l;},null);
__d('MPlacesCurrentLocation',['MPlaces'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(j){h.setCurrentJSONLocation(j.location);h.setLocationSearchMode(j.mode);if(j.mode==h.locationSearchModes.MODE_CHECKIN)h.monitorLocation();};g.main=i;},null);
__d('MPlacesInit',['MPlaces','Stratcom'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();if(typeof window.usingGears!=='undefined')h.locationOptions.enableHighAccuracy=false;i.listen('click',h.LINK_SIGIL,h.onClick);i.listen('submit',h.FORM_SIGIL,h.onSubmit);},null);
__d("MQuickSearchLogger",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){"use strict";this.$MQuickSearchLogger1=false;this.$MQuickSearchLogger2=false;this.$MQuickSearchLogger3=null;}h.prototype.$MQuickSearchLogger4=function(){"use strict";this.$MQuickSearchLogger1=true;this.$MQuickSearchLogger2=false;this.$MQuickSearchLogger5=Math.random();};h.prototype.$MQuickSearchLogger6=function(){"use strict";this.$MQuickSearchLogger1=false;};h.prototype.logSessionStart=function(i){"use strict";};h.prototype.logResults=function(i,j){"use strict";};h.prototype.logClick=function(i){"use strict";};h.prototype.onSearch=function(i){"use strict";if(!this.$MQuickSearchLogger1){this.$MQuickSearchLogger4();this.logSessionStart(i);}this.$MQuickSearchLogger3=i;};h.prototype.onResults=function(i,j){"use strict";this.logResults(i,j);};h.prototype.onCleanup=function(){"use strict";this.$MQuickSearchLogger6();};h.prototype.onClick=function(i){"use strict";if(!this.$MQuickSearchLogger2){this.logClick(i);this.$MQuickSearchLogger2=true;this.$MQuickSearchLogger6();}};h.prototype.getSID=function(){"use strict";return this.$MQuickSearchLogger5;};h.prototype.getLastRequest=function(){"use strict";return this.$MQuickSearchLogger3;};f.exports=h;},null);
__d('MQuickSearchLoggerPlaces',['MQuickSearchLogger','MarauderLogger','MLegacyDataStore'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){'use strict';l.constructor.call(this);}m.prototype.logSessionStart=function(n){'use strict';i.log('m_checkin_search_session_start',undefined,{sid:this.getSID()});};m.prototype.logResults=function(n,o){'use strict';i.log('m_checkin_search_results',undefined,{sid:this.getSID(),search_experiment:j.get(o).searchExperiment});};m.prototype.logClick=function(n){'use strict';var o=false,p=-1;if(n){var q=j.get(n.selected_result);if(q!==null)o=q.isEventResult;var r=[];if(n.results!==null&&n.results.children!==null)r=n.results.children;for(var s=0;s<r.length;s++){var t=j.get(r[s]);if(q.id===t.id){p=s;break;}}}var u=-1;if(this.getLastRequest()!==null){var v=this.getLastRequest();if(v.hasOwnProperty('q')&&v.q.hasOwnProperty('length'))u=this.getLastRequest().q.length;}i.log('m_checkin_search_click',undefined,{sid:this.getSID(),query_length:u,position:p,is_event:o});};f.exports=m;},null);
__d('MQuickSearch',['$','DOM','HTML','MRequest','MRequestTypes','MViewport','Stratcom','Vector','destroyOnUnload','eventsMixinDeprecated','setIntervalAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=[];function t(u,v){'use strict';this._uri=u.uri;this._args=u.args||{};var w=h(u.nodeID);this._input=i.find(w,'input','quicksearch-input');this._button=i.scry(w,'*','quicksearch-button')[0];this._container=h(u.containerID);this._resultsBoxID=u.resultsBoxID;this._resultsBox=h(this._resultsBoxID);this._shouldScroll=u.shouldScroll;if(u.throbber)this._throbber=new j(u.throbber);this._request=null;this._searchLogger=v||null;this._listeners=[i.listen(this._input,'focus',null,this._focus.bind(this)),i.listen(this._input,'blur',null,this._cleanup.bind(this)),i.listen(this._input,'keydown',null,this._handleKeyDown.bind(this)),i.listen(this._input,'keyup',null,this._handleKeyUp.bind(this))];if(this._button)this._listeners.push(i.listen(this._button,'click',null,this._click.bind(this)));if(this._args.bootstrap)this.search(this._input.value);s.push(this);p(function(){n.removeCurrentListener();s.forEach(function(x){return x._destroy();});s=[];});}t.prototype._handleKeyDown=function(event){'use strict';this._scrollToContainer();this._previousText=this._input.value;};t.prototype._handleKeyUp=function(event){'use strict';if(event.getSpecialKey()==='delete'&&(this._args.bootstrap||this._args.showInitialResultsOnClear)){var u=this._input.value;if(u.trim()===''&&u!==this._previousText)this.reset();}};t.prototype._scrollToContainer=function(){'use strict';if(this._shouldScroll)m.scrollTo(o.getPos(this._container));};t.prototype._update=function(){'use strict';var u=this._input.value;if(this._previousText==u)return;this._previousText=u;if(/^\s*$/.test(u)&&!this._args.bootstrap){this._resetContent();this._abortRequest();return;}this._saveInitialNodes();this.search(u);};t.prototype.search=function(u){'use strict';if(this.invoke('search',u).getPrevented())return;this._throbber&&i.setContent(this._resultsBox,this._throbber);this.addQueryParameters({q:u||''});this._abortRequest();if(this._searchLogger)this._searchLogger.onSearch(this._args);this._request=new k(this._uri);this._request.setType(l.DEPENDENT);this._request.listen('done',function(v){this._resultsBox=h(this._resultsBoxID);if(this._searchLogger)this._searchLogger.onResults(this._request,this._resultsBox);if(this._needsDefaultNodes){this._saveInitialNodes();this._needsDefaultNodes=false;}this._request=null;}.bind(this));this._request.setMethod('GET');this._request.setData(this._args).send();};t.prototype._abortRequest=function(){'use strict';this._request&&this._request.abort()&&(this._request=null);};t.prototype._resetContent=function(){'use strict';this._resultsBox=h(this._resultsBoxID);i.setContent(this._resultsBox,this._initialNodes);};t.prototype.resetToThrobber=function(){'use strict';this._resultsBox=h(this._resultsBoxID);if(this._throbber&&this._resultsBox)i.setContent(this._resultsBox,this._throbber);};t.prototype.addQueryParameters=function(u){'use strict';Object.assign(this._args,u);};t.prototype.maybeAddQueryParameters=function(u){'use strict';for(var v in u)if(!(v in this._args))this._args[v]=u[v];};t.prototype.clear=function(){'use strict';this._input.value='';this._initialNodes=null;};t.prototype._focus=function(event){'use strict';this._focused=true;if(this._button){this._button.setAttribute('type','button');this._button.disabled=false;}this._scrollToContainer();this._previousText=this._input.value;clearInterval(this._interval);this._interval=r(this._update.bind(this),300);};t.prototype._click=function(event){'use strict';event.prevent();this.reset();};t.prototype._cleanup=function(){'use strict';if(this._searchLogger)this._searchLogger.onCleanup();this._focused=false;if(!this._input.value&&this._button){this._button.setAttribute('type','submit');this._button.disabled=true;}clearInterval(this._interval);};t.prototype.reset=function(){'use strict';this._abortRequest();this._cleanup();this._saveInitialNodes();this._resetContent();this._input.value='';this._input.blur();if(this._button){this._button.setAttribute('type','submit');this._button.disabled=true;}if(this._args.showInitialResultsOnClear)this.search('');this._scrollToContainer();};t.prototype._saveInitialNodes=function(){'use strict';if(!this._initialNodes)this._initialNodes=Array.from(this._resultsBox.childNodes);};t.prototype._destroy=function(){'use strict';this._listeners.forEach(function(u){return u&&u.remove();});this._listeners.length=0;};t.prototype.setNeedsDefaultNodes=function(){'use strict';this._needsDefaultNodes=true;};t.getInstances=function(){'use strict';return s;};q(t,['search']);Object.assign(t.prototype,{_uri:null,_args:null,_input:null,_button:null,_container:null,_resultsBox:null,_shouldScroll:true,_throbber:null,_focused:false,_initialNodes:null,_previousText:null,_interval:null,_needsDefaultNodes:false,_searchLogger:null});f.exports=t;},null);
__d('MQuickSearchPlaces',['MPlaces','MQuickSearch','MQuickSearchLoggerPlaces','Stratcom'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){'use strict';var n,o,p=new j(),q=new i(m,p),r=null,s=q.listen('search',function(x){var y=r||h.getCurrentJSONLocation();if(y==n&&x==o){k.context().prevent();return;}n=h.getCurrentJSONLocation();o=x;var z={json_location:n};z[h.locationSearchModes.SEARCH_MODE]=h.getLocationSearchMode();q.maybeAddQueryParameters(z);k.invoke('m:quicksearch:location:change',null,y);}),t=k.listen('m:quicksearch:places:search-with-location',null,function(x){r=x;q.search();}),u=k.listen('m:quicksearch:places:search',null,function(){q.search();}),v=k.listen('m:quicksearch:places:cancel',null,function(){return q.reset();}),w=k.listen('m:quicksearch:places:click',null,function(event){p.onClick(event.getData());});k.listen('m:page:loading',null,function(){k.removeCurrentListener();s.remove();u.remove();t.remove();v.remove();w.remove();s=u=n=o=q=null;});}f.exports=l;},null);
__d('MPrivacyComposerMenu',['CSS','MLegacyDataStore','DOM','MComposerLogger','MComposerWaterfallEvent','MModalDialog','MCompositionConfigStore','MCompositionConfigFields','MCompositionPrivacyStore','MCompositionPrivacyFields','MCompositionUserActions','MRequest','MViewport','Stratcom','SubscriptionsHandler','URI','$','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();function z(aa,ba,ca,da){'use strict';this._root=x(aa);this._hiddenInput=j.find(this._root,'input');this._selectedOption=j.scry(this._root,'tr','checked')[0];this._stickyURI=ba;this._stickyOption=this._selectedOption;this._enableCustomMenu=da;this._dontSaveSticky=false;this._customLabel=ca;this._listeners=new v();this._listeners.addSubscriptions(p.addChangeListener(function(){return this._handlePrivacyUpdate();}.bind(this)));this._listeners.addSubscriptions(j.listen(this._root,'click','privacy-option',function(ea){var fa=ea.getNode('privacy-option');if(!this._enableCustomMenu||fa!=this.getCustomOption()){this._selectOption(fa);return;}var ga=u.listen('m:viewport:orientation-change',null,this._addHeightConstraint.bind(this));this._addHeightConstraint();var ha=new w('/privacy/custom/edit'),ia=p.get(q.PRIVACY_FBID,null),ja=n.get(o.POST_ID,null);ha.setQueryData({privacyID:ia,postID:ja});m.open(ha.toString(),function(ka){u.invoke('MPrivacyComposerMenu::custom',null,{visible:false,instance:this,selector:this._root});t.scrollToHeader();ga.remove();this._removeHeightConstraint();if(!ka.canceled){var la=ka.payload.value,ma=j.scry(this._root,'tr','privacy-option'),na=false;for(var oa=0;oa<ma.length;oa++)if(i.get(ma[oa]).value==la){this._selectOption(ma[oa],true);na=true;break;}if(!na){this._updateCustomSelectedOption(ka.payload.description,la);this._selectOption(this.getCustomSelectedOption(),true);}}}.bind(this));u.invoke('MPrivacyComposerMenu::custom',null,{visible:true,instance:this,selector:this._root});}.bind(this)));this._listeners.addSubscriptions(u.listen('MStructuredComposer:reset',null,function(ea){if(this._stickyCustomValue&&this._stickyCustomLabel)this._updateCustomSelectedOption(this._stickyCustomLabel,this._stickyCustomValue);}.bind(this)));this._listeners.addSubscriptions(u.listen('MPrivacyDeferredSelector-loaded',null,function(ea){var fa=ea.getData(),ga=j.find(this._root,'table','privacy-table');if(ga.id==fa.id)this._selectedOption=j.scry(this._root,'tr','checked')[0];this._handlePrivacyUpdate();}.bind(this)));this._listeners.addSubscriptions(u.listen('MPrivacyComposerMenu:updatePrivacy',null,function(ea){var fa=ea.getData();this._selectOption(fa.row,false,fa.log);}.bind(this)));i.set(this._root,{instance:this});}z.prototype.setShowTagExpansion=function(aa){'use strict';h.conditionClass(this._root,"_1oxi",aa);};z.prototype.getIconContent=function(){'use strict';return j.find(this._selectedOption,'i','icon').cloneNode(true);};z.prototype.getCustomOption=function(){'use strict';return j.find(this._root,'tr','privacy-custom-option');};z.prototype.getCustomSelectedOption=function(){'use strict';return j.scry(this._root,'tr','privacy-custom-selected-option')[0];};z.prototype.isCustomSelectedOption=function(){'use strict';return this._selectedOption===this.getCustomSelectedOption();};z.prototype.getSelectedValue=function(){'use strict';return i.get(this._selectedOption).value;};z.prototype.getRoot=function(){'use strict';return this._root;};z.prototype._getCustomLabel=function(){'use strict';var aa=this.getCustomSelectedOption();if(!aa)return null;return j.find(aa,'span','option-desc').firstChild;};z.prototype._getCustomValue=function(){'use strict';var aa=this.getCustomSelectedOption();if(!aa)return null;return i.get(aa).value;};z.prototype._selectOption=function(aa,ba,ca){'use strict';ca=ca!==undefined?ca:true;var da=p.get(q.NEVER_SAVE_STICKY,false),ea=i.get(aa).value,fa=this._getCustomLabel(),ga=this._getCustomValue(),ha={};ha[q.PRIVACY_FBID]=ea;ha[q.ALREADY_SAVED_STICKY]=ba;ha[q.NEVER_SAVE_STICKY]=da;ha[q.CLOSE_DIALOG]=true;ha[q.CUSTOM_LABEL]=fa;ha[q.CUSTOM_OPTION]=ga;r.privacyUpdate(ha);if(ca)k.log(l.PRIVACY_ADD,{privacy_setting:ea});};z.prototype._updateCustomSelectedOption=function(aa,ba){'use strict';var ca=j.find(this.getCustomSelectedOption(),'span','option-desc');j.setContent(ca,aa);i.set(this.getCustomSelectedOption(),{value:ba});if(ba)j.show(this.getCustomSelectedOption());};z.prototype._addHeightConstraint=function(){'use strict';this._removeHeightConstraint();var aa=t.getUseableHeight();this._heightConstraint=t.addHeightConstraint(aa);};z.prototype._removeHeightConstraint=function(){'use strict';if(this._heightConstraint){this._heightConstraint.release();this._heightConstraint=null;}};z.prototype._handlePrivacyUpdate=function(){'use strict';if(!this._stickyCustomValue&&this.getCustomSelectedOption()){this._stickyCustomValue=this._getCustomValue();this._stickyCustomLabel=this._getCustomLabel();}var aa=p.get(q.PRIVACY_FBID,null),ba=p.get(q.ALREADY_SAVED_STICKY,false),ca=p.get(q.NEVER_SAVE_STICKY,false),da=p.get(q.CLOSE_DIALOG,false),ea=p.get(q.CUSTOM_LABEL),fa=p.get(q.CUSTOM_OPTION);if(ba!==undefined)this._dontSaveSticky=ba;var ga=j.scry(this._root,'tr','privacy-option');if(aa===null)aa=i.get(this._stickyOption).value;da=da||this._hiddenInput.value!=aa;var ha=j.scry(document.body,'button','privacy-button')[0];if(aa!==null&&da){var ia=null;for(var ja=0;ja<ga.length;ja++)if(i.get(ga[ja]).value==aa)ia=ga[ja];if(this.getCustomSelectedOption()&&fa!==null&&ea!==null)this._updateCustomSelectedOption(ea,fa);if(!ia)ia=this.getCustomSelectedOption();if(!ia){if(ha)h.conditionShow(ha,false);return;}this._hiddenInput.value=aa;if(this._selectedOption)h.conditionClass(this._selectedOption,'checked',false);this._selectedOption=ia;h.conditionClass(ia,'checked',true);var ka=!!j.scry(ia,'span','plus-label').length,la=j.find(this._selectedOption,'i','icon').outerHTML,ma=j.find(ia,'span','option-desc');u.invoke('MPrivacyComposerMenu::change',null,{value:this._hiddenInput.value,showPlus:ka,iconHTML:la,optionLabel:ma,instance:this});if(!ca){this._stickyOption=this._selectedOption;this._stickyCustomValue=this._getCustomValue();this._stickyCustomLabel=this._getCustomLabel();if(!this._dontSaveSticky&&this._stickyURI)new s(this._stickyURI).setData({privacyx:this._hiddenInput.value}).send();}}var na=n.get(o.DISABLE_PRIVACY,false);if(ha&&!na)h.conditionShow(ha,true);};z.prototype.disable=function(){'use strict';this._listeners.release();};z.init=function(aa,ba,ca,da){'use strict';return new z(aa,ba,ca,da);};z.getInstance=function(aa){'use strict';return i.get(aa).instance;};f.exports=z;},null);
__d('MPrivacyComposerSelector',['Banzai','CSS','MLegacyDataStore','DOM','HTML','MComposerLogger','MComposerWaterfallEvent','MPrivacyComposerMenu','MRequest','MViewport','Stratcom','Vector','$','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();function v(w,x){'use strict';this._root=t(w);this._button=k.scry(this._root,'button','privacy-button')[0];if(!this._button)this._button=k.find(this._root,'div','privacy-button');this._buttonIcon=k.find(this._root,'div','privacy-button-icon');this._menu=k.find(this._root,'div','privacy-composer-menu');this._config=x;k.listen(this._root,'click','privacy-button',function(event){if(this.isOpen()){this.hideMenu();m.log(n.PRIVACY_CANCEL);}else{this.showMenu();m.log(n.PRIVACY_INTENT);}document.activeElement.blur();}.bind(this));r.listen('MPrivacyComposerMenu::change',null,function(y){var z=y.getData();if(z.instance!=o.getInstance(this._menu))return;if(this._config.updatebuttontext){var aa=k.find(this._button,'span','button-text');k.setContent(aa,z.optionLabel.cloneNode(true));}if(this._config.updatelabel)k.setContent(this._config.updatelabel,z.optionLabel.innerHTML);var ba=k.find(this._button,'span','plus-label');if(z.showPlus){k.show(ba);}else k.hide(ba);k.setContent(this._buttonIcon,new l(z.iconHTML));this.hideMenu();}.bind(this));j.set(this._root,{instance:this});}v.prototype.setShowTagExpansion=function(w){'use strict';i.conditionClass(this._root,"_27-k",w);o.getInstance(this._menu).setShowTagExpansion(w);};v.prototype.getSelectedValue=function(){'use strict';var w=o.getInstance(this._menu);return w&&w.getSelectedValue();};v.prototype.showMenu=function(){'use strict';k.show(this._menu);r.invoke('MPrivacyComposerMenu::show',null,{selector:this._root});this._heightConstraint=q.addMinHeightConstraint(s.getDim(this._menu).y+s.getPos(this._menu).y);h.post('privacy_selector_interaction',{event:'open_selector'});};v.prototype.hideMenu=function(){'use strict';if(this.isOpen()){k.hide(this._menu);r.invoke('MPrivacyComposerMenu::hide',null,{selector:this._root});this._heightConstraint&&this._heightConstraint.release();h.post('privacy_selector_interaction',{event:'close_selector'});}};v.prototype.isOpen=function(){'use strict';return this._menu.style.display!='none';};v.prototype.disableWithSpinner=function(){'use strict';var w=this._config.spinner;k.replace(this._button,w);k.show(w);o.getInstance(this._menu).disable();};v.init=function(w,x){'use strict';return new v(w,x);};v.getInstance=function(w){'use strict';return j.get(w).instance;};f.exports=v;},null);
__d('areEqual',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=[],i=[];function j(l,m){var n=h.length?h.pop():[],o=i.length?i.pop():[],p=k(l,m,n,o);n.length=0;o.length=0;h.push(n);i.push(o);return p;}function k(l,m,n,o){if(l===m)return l!==0||1/l==1/m;if(l==null||m==null)return false;if(typeof l!='object'||typeof m!='object')return false;var p=Object.prototype.toString,q=p.call(l);if(q!=p.call(m))return false;switch(q){case '[object String]':return l==String(m);case '[object Number]':return isNaN(l)||isNaN(m)?false:l==Number(m);case '[object Date]':case '[object Boolean]':return +l==+m;case '[object RegExp]':return l.source==m.source&&l.global==m.global&&l.multiline==m.multiline&&l.ignoreCase==m.ignoreCase;}var r=n.length;while(r--)if(n[r]==l)return o[r]==m;n.push(l);o.push(m);var s=0;if(q==='[object Array]'){s=l.length;if(s!==m.length)return false;while(s--)if(!k(l[s],m[s],n,o))return false;}else{if(l.constructor!==m.constructor)return false;if(l.hasOwnProperty('valueOf')&&m.hasOwnProperty('valueOf'))return l.valueOf()==m.valueOf();var t=Object.keys(l);if(t.length!=Object.keys(m).length)return false;for(var u=0;u<t.length;u++)if(!k(l[t[u]],m[t[u]],n,o))return false;}n.pop();o.pop();return true;}f.exports=j;},null);